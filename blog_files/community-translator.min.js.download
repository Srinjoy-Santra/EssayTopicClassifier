!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).communityTranslator=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var debug=require("debug")("automattic:community-translator");module.exports=function(e,t){var n,o,r=200,a={},i=[];return"function"!=typeof e?(debug("batcher expects the first argument to be a function that takes an array and a callback, got ",e),null):(o=function(e){var t=e.singular;return void 0!==e.context&&(t=e.context+""+t),t},delayMore=function(){n&&clearTimeout(n),n=setTimeout(resolveBatch,r)},resolveBatch=function(){var t=i.slice(),o=a;n=null,a={},i=[],0!==t.length&&e(t,function(e){!function(e,t){var n,o,r,a;if(void 0===e)return;for(void 0===e[0]&&(e=[e]),n=0;(o=e[n])&&void 0!==o&&void 0!==o.original;n++)if(a=o.original.singular,void 0!==o.original.context&&o.original.context&&(a=o.original.context+""+a),void 0!==t[a]&&t[a]){for(r=0;r<t[a].length;r++)t[a][r].resolve(o);t[a]=null,delete t[a]}for(a in t)if(t[a])for(r=0;r<t[a].length;r++)t[a][r].reject()}(e,o)})},t&&(t.batchDelay&&(r=t.batchDelay),t.hash&&(o=t.hash)),function(e){var t=new jQuery.Deferred,n=o(e);return n in a?a[n].push(t):(i.push(e),a[n]=[t]),delayMore(),t})}},{debug:11}],2:[function(require,module,exports){"use strict";var debug=require("debug")("automattic:community-translator"),batcher=require("./batcher.js");module.exports=function(t){var r={url:"",project:"",translation_set_slug:"default"};function e(t){return t=jQuery.extend({type:"POST",data:{},dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0},t),jQuery.ajax(t)}function n(t){return r.url+t}return{getPermalink:function(e){var n=e.getOriginal().getId(),s=r.project,a=r.translation_set_slug;return e.getGlotPressProject()&&(s=e.getGlotPressProject()),r.url+"/projects/"+s+"/"+t.getLocaleCode()+"/"+a+"?filters[original_id]="+n},loadSettings:function(t){void 0!==t.url?r.url=t.url:debug("Missing GP server url"),void 0!==t.url?r.project=t.project:debug("Missing GP project path"),void 0!==t.translation_set_slug&&(r.translation_set_slug=t.translation_set_slug)},queryByOriginal:batcher(function(s,a){e({url:n("/api/translations/-query-by-originals"),data:{project:r.project,translation_set_slug:r.translation_set_slug,locale_slug:t.getLocaleCode(),original_strings:JSON.stringify(s)}}).done(function(t){a(t)})}),submitTranslation:function(s){return e({url:n("/api/translations/-new"),data:{project:r.project,translation_set_slug:r.translation_set_slug,locale_slug:t.getLocaleCode(),translation:s}})}}}},{"./batcher.js":1,debug:11}],3:[function(require,module,exports){"use strict";var debounceTimeout,loadCSS,loadData,registerContentChangedCallback,registerDomChangedCallback,registerPopoverHandlers,findNewTranslatableTexts,glotPress,currentUserId,walker,debug=require("debug")("community-translator"),TranslationPair=require("./translation-pair"),Walker=require("./walker"),Locale=require("./locale"),Popover=require("./popover"),GlotPress=require("./glotpress"),currentlyWalkingTheDom=(require("./jquery.webui-popover.js"),!1),translationData={currentUserId:!1,localeCode:"en",languageName:"English",pluralForms:"nplurals=2; plural=(n != 1)",contentChangedCallback:function(){},glotPress:{url:"http://glotpress.dev",project:"test"}},translationUpdateCallbacks=[];function makeTranslatable(t,a){t.createPopover(a,glotPress),a.removeClass("translator-checking").addClass("translator-translatable"),t.isFullyTranslated()?t.isTranslationWaiting()?a.removeClass("translator-translated").addClass("translator-user-translated"):a.removeClass("translator-user-translated").addClass("translator-translated"):a.addClass("translator-untranslated")}module.exports={load:function(){if(void 0===window.translatorJumpstart)return!1;loadCSS(),loadData(window.translatorJumpstart),registerPopoverHandlers(),registerContentChangedCallback(),findNewTranslatableTexts()},unload:function(){var t;debounceTimeout&&clearTimeout(debounceTimeout),"object"==typeof window.translatorJumpstart&&(window.translatorJumpstart.contentChangedCallback=function(){}),jQuery(document).off("submit","form.ct-existing-translation,form.ct-new-translation"),jQuery(".translator-translatable").webuiPopover("destroy"),t=["translator-checked","translator-untranslated","translator-translated","translator-user-translated","translator-untranslatable","translator-dont-translate"],jQuery("."+t.join(", .")).removeClass(t.join(" "))},registerTranslatedCallback:function(t){translationUpdateCallbacks.push(t)}},loadCSS=function(){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://widgets.wp.com/community-translator/community-translator.css"),document.getElementsByTagName("head")[0].appendChild(t);var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href","https://s1.wp.com/i/noticons/noticons.css"),document.getElementsByTagName("head")[0].appendChild(a),jQuery("iframe").addClass("translator-untranslatable")},loadData=function(t){"object"==typeof t&&"string"==typeof t.localeCode&&(translationData=t),translationData.locale=new Locale(translationData.localeCode,translationData.languageName,translationData.pluralForms),currentUserId=translationData.currentUserId,glotPress=new GlotPress(translationData.locale),void 0!==translationData.glotPress?glotPress.loadSettings(translationData.glotPress):debug("Missing GlotPress settings"),TranslationPair.setTranslationData(translationData),walker=new Walker(TranslationPair,jQuery,document)},registerContentChangedCallback=function(){"object"==typeof window.translatorJumpstart&&(debug("Registering translator contentChangedCallback"),window.translatorJumpstart.contentChangedCallback=function(){debounceTimeout&&clearTimeout(debounceTimeout),debounceTimeout=setTimeout(findNewTranslatableTexts,250)},"object"==typeof window.translatorJumpstart.stringsUsedOnPage&&registerDomChangedCallback())},registerDomChangedCallback=function(){var t=10,a=document.body.innerHTML.length,e=function(){var n;--t<=0||(n=document.body.innerHTML.length,a!==n&&(a=n,debounceTimeout&&clearTimeout(debounceTimeout),debounceTimeout=setTimeout(findNewTranslatableTexts,1700)),setTimeout(e,1500))};setTimeout(e,1500)},registerPopoverHandlers=function(){jQuery(document).on("keyup","textarea.translation",function(){var t,a=jQuery(this).parents("form.ct-new-translation"),e=a.find("textarea"),n=a.find("button");t=e.filter(function(){return this.value.length}),n.prop("disabled",0===t.length)}),jQuery(document).on("submit","form.ct-new-translation",function(){var t=jQuery(this),a=jQuery("."+t.data("nodes")),e=(t.find("textarea").val(),t.data("translationPair")),n=t.find("textarea").map(function(){return jQuery(this).val()}).get();return!!n.every(function(t){return 0<t.trim().length})&&(a.addClass("translator-user-translated").removeClass("translator-untranslated"),t.closest(".webui-popover").hide(),jQuery.when(e.getOriginal().getId()).done(function(t){var r=jQuery.makeArray(n),o={};o[t]=r,glotPress.submitTranslation(o).done(function(n){void 0!==n[t]&&(e.updateAllTranslations(n[t],currentUserId),makeTranslatable(e,a),function(t){debug("Notifying string translated",t.serialize()),translationUpdateCallbacks.forEach(function(a){a(t.serialize())})}(e))}).fail(function(){debug("Submitting new translation failed",o)})}).fail(function(){debug("Original cannot be found in GlotPress")}),!1)}),jQuery(document).on("submit","form.ct-existing-translation",function(){var t,a=jQuery(this),e=a.data("translationPair");return"object"!=typeof e?debug("could not find translation for node",a):(t=new Popover(e,translationData.locale,glotPress),a.parent().empty().append(t.getTranslationHtml())),!1})},findNewTranslatableTexts=function(){if(currentlyWalkingTheDom)return debounceTimeout&&clearTimeout(debounceTimeout),void(debounceTimeout=setTimeout(findNewTranslatableTexts,1500));currentlyWalkingTheDom=!0,debug("Searching for translatable texts"),walker.walkTextNodes(document.body,function(t,a){a.addClass("translator-checking"),t.fetchOriginalAndTranslations(glotPress,currentUserId).fail(function(t){debug("makeUntranslatable:",t),t.removeClass("translator-untranslated translator-translated translator-translatable translator-checking"),t.addClass("translator-dont-translate")}.bind(null,a)).done(makeTranslatable.bind(null,t,a))},function(){currentlyWalkingTheDom=!1})}},{"./glotpress":2,"./jquery.webui-popover.js":4,"./locale":5,"./popover":7,"./translation-pair":8,"./walker":10,debug:11}],4:[function(require,module,exports){!function(t,e,i,o){var n="webuiPopover",s={placement:"auto",width:400,height:"auto",trigger:"rightclick",style:"",delay:300,cache:!1,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",onload:!1,translationPair:null,template:'<div class="webui-popover"><div class="arrow"></div><div class="webui-popover-inner"><a href="#" class="close">x</a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>'};function h(e,i){this.$element=t(e),this.$eventDelegate=this.$element,this.$element.closest("button").length&&(this.$eventDelegate=this.$element.closest("button")),this.options=t.extend({},s,i),this._defaults=s,this._name=n,this.init()}h.prototype={init:function(){"click"===this.options.trigger?this.$eventDelegate.off("click").on("click",t.proxy(this.toggle,this)):"rightclick"===this.options.trigger?(this.$eventDelegate.off("contextmenu").on("contextmenu",t.proxy(this.toggle,this)),this.$eventDelegate.off("click").on("click",function(t){if(t.ctrlKey)return!1})):this.$eventDelegate.off("mouseenter mouseleave").on("mouseenter",t.proxy(this.mouseenterHandler,this)).on("mouseleave",t.proxy(this.mouseleaveHandler,this)),this._poped=!1,this._inited=!0},destroy:function(){this.hide(),this.$element.data("plugin_"+n,null),this.$eventDelegate.off(),this.$target&&this.$target.remove()},hide:function(e){e&&(e.preventDefault(),e.stopPropagation()),e=t.Event("hide.webui.popover"),this.$element.trigger(e),this.$target&&this.$target.removeClass("in").hide(),this.$element.trigger("hidden.webui.popover")},toggle:function(t){t&&(t.preventDefault(),t.stopPropagation()),this[this.getTarget().hasClass("in")?"hide":"show"](t)},hideAll:function(){t("div.webui-popover").not(".webui-popover-fixed").removeClass("in").hide()},show:function(t){t&&(t.preventDefault(),t.stopPropagation());var e=this.getTarget().removeClass().addClass("webui-popover");if(this.options.multi||this.hideAll(),!this.options.cache||!this._poped){if(this.setTitle(this.getTitle()),this.options.closeable||e.find(".close").off("click").remove(),this.isAsync())return this.setContentASync(this.options.content),void this.displayContent();this.setContent(this.getContent()),e.show()}this.displayContent(),this.bindBodyEvents()},displayContent:function(){var e,o=this.getElementPosition(),n=this.getTarget().removeClass().addClass("webui-popover"),s=this.getContentElement(),h=n[0].offsetWidth,r=n[0].offsetHeight,l=t.Event("show.webui.popover");this.$element.trigger(l),"auto"!==this.options.width&&n.width(this.options.width),"auto"!==this.options.height&&s.height(this.options.height),this.options.arrow||n.find(".arrow").remove(),n.remove().css({top:-1e3,left:-1e3,display:"block"}).appendTo(i.body),h=n[0].offsetWidth,r=n[0].offsetHeight,e=this.getPlacement(o,r),this.initTargetEvents();var a=this.getTargetPositin(o,e,h,r);if(this.$target.css(a.position).addClass(e).addClass("in"),"iframe"===this.options.type){var p=n.find("iframe");p.width(n.width()).height(p.parent().height())}if(this.options.style&&this.$target.addClass("webui-popover-"+this.options.style),this.options.padding||(s.css("height",s.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var c=this.$target.find(".arrow");c.removeAttr("style"),a.arrowOffset&&c.css(a.arrowOffset)}this.options.onload&&"function"==typeof this.options.onload&&this.options.onload(s,this.$target),this.options.translationPair&&s.find("form").data("translationPair",this.options.translationPair),this._poped=!0,this.$element.trigger("shown.webui.popover")},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTarget:function(){return this.$target||(this.$target=t(this.options.template)),this.$target},getTitleElement:function(){return this.getTarget().find(".webui-popover-title")},getContentElement:function(){return this.getTarget().find(".webui-popover-content")},getTitle:function(){return this.options.title||this.$element.attr("data-title")||this.$element.attr("title")},setTitle:function(t){var e=this.getTitleElement();t?e.html(t):e.remove()},hasContent:function(){return this.getContent()},getContent:function(){if(this.options.url)"iframe"===this.options.type&&(this.content=t('<iframe frameborder="0"></iframe>').attr("src",this.options.url));else if(!this.content){var e;e=t.isFunction(this.options.content)?this.options.content.apply(this.$element[0],arguments):this.options.content,this.content=this.$element.attr("data-content")||e}return this.content},setContent:function(t){var e=this.getTarget();this.getContentElement().html(t),this.$target=e},isAsync:function(){return"async"===this.options.type},setContentASync:function(e){var i=this;t.ajax({url:this.options.url,type:"GET",cache:this.options.cache,success:function(o){e&&t.isFunction(e)?i.content=e.apply(i.$element[0],[o]):i.content=o,i.setContent(i.content),i.getContentElement().removeAttr("style"),i.displayContent()}})},bindBodyEvents:function(){t("body").off("keyup.webui-popover").on("keyup.webui-popover",t.proxy(this.escapeHandler,this)),t("body").off("click.webui-popover").on("click.webui-popover",t.proxy(this.bodyClickHandler,this))},mouseenterHandler:function(){this._timeout&&clearTimeout(this._timeout),this.getTarget().is(":visible")||this.show()},mouseleaveHandler:function(){var t=this;t._timeout=setTimeout(function(){t.hide()},t.options.delay)},escapeHandler:function(t){27===t.keyCode&&this.hideAll()},bodyClickHandler:function(t){this.hideAll()},targetClickHandler:function(t){t.stopPropagation()},initTargetEvents:function(){"click"===this.options.trigger||("rightclick"===this.options.trigger?this.$target.find(".close").off("click").on("click",t.proxy(this.hide,this)):this.$target.off("mouseenter mouseleave").on("mouseenter",t.proxy(this.mouseenterHandler,this)).on("mouseleave",t.proxy(this.mouseleaveHandler,this))),this.$target.find(".close").off("click").on("click",t.proxy(this.hide,this)),this.$target.off("click.webui-popover").on("click.webui-popover",t.proxy(this.targetClickHandler,this))},getPlacement:function(t,e){var o,n=i.documentElement,s=i.body,h=n.clientWidth,r=n.clientHeight,l=Math.max(s.scrollTop,n.scrollTop),a=Math.max(s.scrollLeft,n.scrollLeft),p=Math.max(0,t.left-a),c=Math.max(0,t.top-l);return"auto"===(o="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement)&&(p<h/3?o=c<r/3?"bottom-right":c<2*r/3?"right":"top-right":p<2*h/3?o=c<r/3?"bottom":c<2*r/3?"bottom":"top":(o=e+20<c?"top-left":"bottom-left",o=c<r/3?"bottom-left":c<2*r/3?"left":"top-left")),o},getElementPosition:function(){return t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(t,e,i,o){var n=t,s=this.$element.outerWidth(),h=this.$element.outerHeight(),r={},l=null,a=this.options.arrow?28:0,p=s<a+10?a:0,c=h<a+10?a:0;switch(e){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":r={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":r={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":r={top:n.top+n.height/2-o/2,left:n.left+n.width};break;case"top-right":r={top:n.top-o,left:n.left-p},l={left:s/2+p};break;case"top-left":r={top:n.top-o,left:n.left-i+n.width+p},l={left:i-s/2-p};break;case"bottom-right":r={top:n.top+n.height,left:n.left-p},l={left:s/2+p};break;case"bottom-left":r={top:n.top+n.height,left:n.left-i+n.width+p},l={left:i-s/2-p};break;case"right-top":r={top:n.top-o+n.height+c,left:n.left+n.width},l={top:o-h/2-c};break;case"right-bottom":r={top:n.top-c,left:n.left+n.width},l={top:h/2+c};break;case"left-top":r={top:n.top-o+n.height+c,left:n.left-i},l={top:o-h/2-c};break;case"left-bottom":r={top:n.top,left:n.left-i},l={top:h/2}}return{position:r,arrowOffset:l}}},t.fn[n]=function(e){return this.each(function(){var i=t.data(this,"plugin_"+n);i?"destroy"===e?i.destroy():"string"==typeof e&&i[e]():(e?"string"==typeof e?"destroy"!==e&&(i=new h(this,null))[e]():"object"==typeof e&&(i=new h(this,e)):i=new h(this,null),t.data(this,"plugin_"+n,i))})}}(jQuery,window,document)},{}],5:[function(require,module,exports){var Jed=require("jed");module.exports=function(e,n,r){var t=Jed.PF.compile(r),u=r.match(/nplurals\=(\d+);/),o=2;return 1<u.length&&(o=u[1]),{getLocaleCode:function(){return e},getLanguageName:function(){return n},getInfo:function(){return e},getPluralCount:function(){return o},getNumbersForIndex:function(e){var n,r=[];for(n=0;n<1e3&&!(t(n)==e&&(r.push(n),3<=r.length));++n);return r}}}},{jed:13}],6:[function(require,module,exports){var Translation=require("./translation");module.exports=function(n){var r,t=null,o=null,e=null;function l(n){var i={singular:r};return t&&(i.plural=t),n&&(i.context=n),i}return"string"==typeof n?r=n:"object"==typeof n&&"string"==typeof n.singular?(r=n.singular,t=n.plural):(r=n[0],t=n[1]),void 0!==t&&""!==t||(t=null),void 0!==n.originalId&&(e=n.originalId),void 0!==n.comment&&(o=n.comment),{type:"Original",getSingular:function(){return r},getPlural:function(){return t},generateJsonHash:function(n){return"string"==typeof n&&""!==n?n+""+r:r},getEmptyTranslation:function(n){var r=[""];if(null!==t)for(i=1;i<n.getPluralCount();i++)r.push("");return new Translation(n,r)},objectify:l,fetchIdAndTranslations:function(n,r){return n.queryByOriginal(l(r)).done(function(n){e=n.original_id,"string"==typeof n.original_comment&&(o=n.original_comment.replace(/^translators: /,""))})},getId:function(){return e},getComment:function(){return o}}}},{"./translation":9}],7:[function(require,module,exports){var locale;function popoverOnload(t){jQuery(t).find("textarea").eq(0).focus()}function getOriginalHtml(t){var n,a=t.getOriginal().getPlural();return n=a?'Singular: <strong class="singular"></strong><br/>Plural:  <strong class="plural"></strong>':'<strong class="singular"></strong>',(n=jQuery("<div>"+n)).find("strong.singular").text(t.getOriginal().getSingular()),a&&n.find("strong.plural").text(a),n}function getInputForm(t){var n,a=getHtmlTemplate("new-translation").clone(),e=a.find("div.original"),i=a.find("div.pair"),r=a.find("div.pairs");e.html(getOriginalHtml(t)),t.getContext()&&a.find("p.context").text(t.getContext()).show(),t.getOriginal().getComment()&&a.find("p.comment").text(t.getOriginal().getComment()).show(),n=t.getTranslation().getTextItems();for(var o=0;o<n.length;o++)0<o&&(i=i.eq(0).clone()),i.find("p").text(n[o].getCaption()),i.find("textarea").text(n[o].getText()).attr("placeholder","Could you help us and translate this to "+locale.getLanguageName()+"? Thanks!"),0<o&&r.append(i);return a}function getHtmlTemplate(t){switch(t){case"existing-translation":return jQuery('<form class="ct-existing-translation"><div class="original"></div><p class="context"></p><p class="comment"></p><hr /><p class="info"></p><div class="pairs"><div class="pair"><p dir="auto"><span class="type"></span><span class="translation"></span></p></div></div><button class="button button-primary">New Translation</button></form>');case"new-translation":return jQuery('<form class="ct-new-translation"><div class="original"></div><p class="context"></p><p class="comment"></p><p class="info"></p><div class="pairs"><div class="pair"><p></p><input type="hidden" class="original" name="original[]" /><textarea dir="auto" class="translation" name="translation[]"></textarea></div></div><button disabled class="button button-primary">Submit translation</button></form>')}}module.exports=function(t,n,a){var e,i;locale=n,e=t.isFullyTranslated()?function(t){var n,a,e=getHtmlTemplate("existing-translation").clone(),i=e.find("div.original"),r=e.find("div.pair"),o=e.find("div.pairs");i.html(getOriginalHtml(t)),t.getContext()&&e.find("p.context").text(t.getContext()).show(),t.getOriginal().getComment()&&e.find("p.comment").text(t.getOriginal().getComment()).show(),n=t.getTranslation().getTextItems();for(var s=0;s<n.length;s++)0<s&&(r=r.eq(0).clone()),""!==(a=n[s].getInfoText())&&r.find("span.type").text(a+": "),r.find("span.translation").text(n[s].getText()),0<s&&o.append(r);return e}(t):getInputForm(t),i="translator-original-"+t.getOriginal().getId();var r=function(){return e.attr("data-nodes",i),e.data("translationPair",t),e};return{attachTo:function(n){n.addClass(i).webuiPopover({title:"Translate to "+locale.getLanguageName()+'<a title="Help & Instructions" target="_blank" href="https://en.support.wordpress.com/in-page-translator/"><span class="noticon noticon-help"></span></a><a title="View in GlotPress" href="'+a.getPermalink(t)+'" target="_blank" class="gpPermalink"><span class="noticon noticon-external"></span></a>',content:jQuery("<div>").append(r()).html(),onload:popoverOnload,translationPair:t})},getTranslationHtml:function(){return e=getInputForm(t),r()}}}},{}],8:[function(require,module,exports){var translationData,Original=require("./original"),Translation=require("./translation"),Popover=require("./popover");function TranslationPair(t,n,a,e){var r,i,o=[],s=!1;function l(n){if("object"==typeof n&&"Translation"===n.type||(n=new Translation(t,n.slice())),r.getTextItems().length!==n.getTextItems().length)return!1;o.push(n),r=n}function c(n){var a,e,r,i;for(o=[],a=0;a<n.length;a++){for(i=[],e=0;r=n[a]["translation_"+e];e++)i.push(r);l(i=new Translation(t,i.slice(),n[a]))}}function u(t){"number"==typeof t&&(t=t.toString()),o.length<=1||o.sort(function(t,n){return n.getComparableDate()-t.getComparableDate()});for(var n=0;n<o.length;n++){if(o[n].getUserId()===t&&o[n].getStatus())return void(r=o[n]);o[n].isCurrent()&&(r=o[n])}}return"object"==typeof n&&"Original"===n.type||(n=new Original(n)),"object"==typeof e?("Translation"!==e.type&&(e=new Translation(t,e)),o.push(e)):e=n.getEmptyTranslation(t),r=e,{type:"TranslationPair",createPopover:function(n,a){new Popover(this,t,a).attachTo(n)},isFullyTranslated:function(){return r.isFullyTranslated()},isTranslationWaiting:function(){return r.isWaiting()},getOriginal:function(){return n},getContext:function(){return a},getLocale:function(){return t},getScreenText:function(){return s},setScreenText:function(t){s=t},getTranslation:function(){return r},getGlotPressProject:function(){return i},updateAllTranslations:function(t,n){if(!c(t))return!1;void 0===n&&u(n)},serialize:function(){return{singular:n.getSingular(),plural:n.getPlural(),context:a,translations:r.serialize(),key:n.generateJsonHash(a)}},fetchOriginalAndTranslations:function(t,e){return n.fetchIdAndTranslations(t,a).done(function(t){var n;void 0!==t.translations&&(c(t.translations),u(e),void 0!==t.project&&(n=t.project,i=n))})}}}function extractFromDataElement(t){var n,a={singular:t.data("singular")};return t.data("plural")&&(a.plural=t.data("plural")),t.data("context")&&(a.context=t.data("context")),(n=new TranslationPair(translationData.locale,a,a.context)).setScreenText(t.text()),n}function trim(t){return void 0===t?"":t.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"")}function anyChildMatches(t,n){var a,e;if("string"==typeof n&&(n=new RegExp(n)),n instanceof RegExp)for(e=t.children(),a=0;a<e.length;a++)if(n.test(e[a].innerHTML)||n.test(e[a].textContent))return!0;return!1}function getTranslationPairForTextUsedOnPage(t,n){var a,e,r,o=!1;if(!(e=trim(t.text())).length||3e3<e.length)return!1;if(void 0!==translationData.stringsUsedOnPage[e])return void 0!==(n=(o=translationData.stringsUsedOnPage[e])[1])&&n&&1===n.length&&(n=n[0]),(a=new TranslationPair(translationData.locale,o[0],n)).setScreenText(e),a;for(r=trim(t.html()),i=0;i<translationData.placeholdersUsedOnPage.length;i++)if((o=translationData.placeholdersUsedOnPage[i]).regex.test(r)){if(anyChildMatches(t,o.regex))continue;return(a=new TranslationPair(translationData.locale,o.original,o.context)).setScreenText(e),a}return!1}TranslationPair.extractFrom=function(t){return"object"==typeof translationData&&(t.is("data.translatable")?extractFromDataElement(t):t.closest("data.translatable").length?extractFromDataElement(t.closest("data.translatable")):function(t){var n;return"object"==typeof translationData.stringsUsedOnPage&&!t.is("style,script")&&!t.closest("#querylist").length&&(n=t.is("[data-i18n-context]")?t.data("i18n-context"):!!(n=t.closest("[data-i18n-context]")).length&&n.data("i18n-context"),translationPair=getTranslationPairForTextUsedOnPage(t,n),!1===translationPair&&void 0!==trim((t=t.clone(!0)).find("*").remove().end().text())&&(translationPair=getTranslationPairForTextUsedOnPage(t,n)),translationPair)}(t))},TranslationPair.setTranslationData=function(t){var n,a,e=[];if("object"==typeof(translationData=t).placeholdersUsedOnPage)for(n in translationData.placeholdersUsedOnPage)void 0===(a=translationData.placeholdersUsedOnPage[n]).regex&&(a={original:a[0],regex:new RegExp("^\\s*"+a[1]+"\\s*$"),context:a[2]}),e.push(a);translationData.placeholdersUsedOnPage=e},TranslationPair._test={anyChildMatches:anyChildMatches},module.exports=TranslationPair},{"./original":6,"./popover":7,"./translation":9}],9:[function(require,module,exports){module.exports=function(t,n,e){var r,u,i,a,o,s,l,f,d=0;if("object"==typeof e&&("undefined"!==e.status&&(i=e.status),"undefined"!==e.translation_id&&(a=e.translation_id),"undefined"!==e.user_id&&(o=e.user_id),"undefined"!==e.date_added&&(s=e.date_added)),"string"!=typeof i&&(i="current"),isNaN(a)&&(a=!1),isNaN(o)&&(o=!1),s&&(f=(l=s.split("-"))[2].substr(3).split(":"),d=new Date(l[0],l[1]-1,l[2].substr(0,2),f[0],f[1],f[2])),r=function(e,r){return{isTranslated:function(){return 0<r.length},getCaption:function(){var r;return 1===n.length?"":2===n.length?0===e?"Singular":"Plural":(r=t.getNumbersForIndex(e)).length?"For numbers like: "+r.join(", "):""},getInfoText:function(){var r;return 1===n.length?"":2===n.length?0===e?"Singular":"Plural":(r=t.getNumbersForIndex(e)).length?r.join(", "):""},getText:function(){return r}}},"object"!=typeof n||"number"!=typeof n.length)return!1;for(u=0;u<n.length;u++)n[u]=new r(u,n[u]);return{type:"Translation",isFullyTranslated:function(){var t;for(t=0;t<n.length;t++)if(!1===n[t].isTranslated())return!1;return!0},isCurrent:function(){return"current"===i},isWaiting:function(){return"waiting"===i},getStatus:function(){return i},getDate:function(){return s},getComparableDate:function(){return d},getUserId:function(){return o},getTextItems:function(){return n},serialize:function(){var t,e=[];for(t=0;t<n.length;t++)e.push(n[t].getText());return e}}}},{}],10:[function(require,module,exports){module.exports=function(e,t,n){return{walkTextNodes:function(o,r,a){var s,c;if("object"==typeof n)for(c=n.createTreeWalker(o,NodeFilter.SHOW_TEXT,null,!1);s=c.nextNode();)l(s);else t(o).find("*").contents().filter(function(){return 3===this.nodeType}).each(function(){l(this)});function l(n){var o,a=t(n.parentNode);return!(a.is("script")||a.hasClass("translator-checked")||(a.addClass("translator-checked"),a.closest(".webui-popover").length||(!1===(o=e.extractFrom(a))?(a.addClass("translator-dont-translate"),1):("function"==typeof r&&r(o,a),0))))}"function"==typeof a&&a()}}}},{}],11:[function(require,module,exports){function load(){var r;try{r=localStorage.debug}catch(e){}return r}(exports=module.exports=require("./debug")).log=function(){var args=arguments,useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?"%c ":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),useColors){var c="color: "+this.color;args=[args[0],c,""].concat(Array.prototype.slice.call(args,1));var index=0,lastC=0;args[0].replace(/%[a-z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)}return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,args)},exports.save=function(namespaces){try{null==namespaces?localStorage.removeItem("debug"):localStorage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)},exports.colors=["cyan","green","goldenrod","blue","purple","red"],exports.formatters.j=function(v){return JSON.stringify(v)},exports.enable(load())},{"./debug":12}],12:[function(require,module,exports){(exports=module.exports=function(namespace){function disabled(){}function enabled(){var self=enabled,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,null==self.useColors&&(self.useColors=exports.useColors()),null==self.color&&self.useColors&&(self.color=exports.colors[prevColor++%exports.colors.length]);var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&(args=["%o"].concat(args));var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),exports.log.apply(self,args)}disabled.enabled=!1,enabled.enabled=!0;var fn=exports.enabled(namespace)?enabled:disabled;return fn.namespace=namespace,fn}).coerce=function(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function(){exports.enable("")},exports.enable=function(namespaces){exports.save(namespaces);for(var split=(namespaces||"").split(/[\s,]+/),len=split.length,i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace("*",".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))},exports.enabled=function(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime,prevColor=0},{ms:14}],13:[function(require,module,exports){!function(root,undef){var ArrayProto=Array.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,hasOwnProp=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,breaker={},_={forEach:function(obj,iterator,context){var i,l,key;if(null!==obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(i=0,l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}else for(key in obj)if(hasOwnProp.call(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return},extend:function(obj){return this.forEach(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj}},Jed=function(options){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=_.extend({},this.defaults,options),this.textdomain(this.options.domain),options.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+options.domain+"`")};function getPluralFormFunc(plural_form_string){return Jed.PF.compile(plural_form_string||"nplurals=2; plural=(n != 1);")}function Chain(key,i18n){this._key=key,this._i18n=i18n}Jed.context_delimiter=String.fromCharCode(4),_.extend(Chain.prototype,{onDomain:function(domain){return this._domain=domain,this},withContext:function(context){return this._context=context,this},ifPlural:function(num,pkey){return this._val=num,this._pkey=pkey,this},fetch:function(sArr){return"[object Array]"!={}.toString.call(sArr)&&(sArr=[].slice.call(arguments,0)),(sArr&&sArr.length?Jed.sprintf:function(x){return x})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),sArr)}}),_.extend(Jed.prototype,{translate:function(key){return new Chain(key,this)},textdomain:function(domain){if(!domain)return this._textdomain;this._textdomain=domain},gettext:function(key){return this.dcnpgettext.call(this,void 0,void 0,key)},dgettext:function(domain,key){return this.dcnpgettext.call(this,domain,void 0,key)},dcgettext:function(domain,key){return this.dcnpgettext.call(this,domain,void 0,key)},ngettext:function(skey,pkey,val){return this.dcnpgettext.call(this,void 0,void 0,skey,pkey,val)},dngettext:function(domain,skey,pkey,val){return this.dcnpgettext.call(this,domain,void 0,skey,pkey,val)},dcngettext:function(domain,skey,pkey,val){return this.dcnpgettext.call(this,domain,void 0,skey,pkey,val)},pgettext:function(context,key){return this.dcnpgettext.call(this,void 0,context,key)},dpgettext:function(domain,context,key){return this.dcnpgettext.call(this,domain,context,key)},dcpgettext:function(domain,context,key){return this.dcnpgettext.call(this,domain,context,key)},npgettext:function(context,skey,pkey,val){return this.dcnpgettext.call(this,void 0,context,skey,pkey,val)},dnpgettext:function(domain,context,skey,pkey,val){return this.dcnpgettext.call(this,domain,context,skey,pkey,val)},dcnpgettext:function(domain,context,singular_key,plural_key,val){var fallback;if(plural_key=plural_key||singular_key,domain=domain||this._textdomain,!this.options)return(fallback=new Jed).dcnpgettext.call(fallback,void 0,void 0,singular_key,plural_key,val);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[domain])throw new Error("Domain `"+domain+"` was not found.");if(!this.options.locale_data[domain][""])throw new Error("No locale meta information provided.");if(!singular_key)throw new Error("No translation key found.");var val_list,res,val_idx,key=context?context+Jed.context_delimiter+singular_key:singular_key,locale_data=this.options.locale_data,dict=locale_data[domain],defaultConf=(locale_data.messages||this.defaults.locale_data.messages)[""],pluralForms=dict[""].plural_forms||dict[""]["Plural-Forms"]||dict[""]["plural-forms"]||defaultConf.plural_forms||defaultConf["Plural-Forms"]||defaultConf["plural-forms"];if(void 0===val)val_idx=0;else{if("number"!=typeof val&&(val=parseInt(val,10),isNaN(val)))throw new Error("The number that was passed in is not a number.");val_idx=getPluralFormFunc(pluralForms)(val)}if(!dict)throw new Error("No domain named `"+domain+"` could be found.");return!(val_list=dict[key])||val_idx>val_list.length?(this.options.missing_key_callback&&this.options.missing_key_callback(key,domain),res=[singular_key,plural_key],!0===this.options.debug&&console.log(res[getPluralFormFunc(pluralForms)(val)]),res[getPluralFormFunc()(val)]):(res=val_list[val_idx])||(res=[singular_key,plural_key])[getPluralFormFunc()(val)]}});var parser,lexer,sprintf=function(){function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){for(var output=[];0<multiplier;output[--multiplier]=input);return output.join("")}var str_format=function(){return str_format.cache.hasOwnProperty(arguments[0])||(str_format.cache[arguments[0]]=str_format.parse(arguments[0])),str_format.format.call(null,str_format.cache[arguments[0]],arguments)};return str_format.format=function(parse_tree,argv){var arg,i,k,match,pad,pad_character,pad_length,cursor=1,tree_length=parse_tree.length,node_type="",output=[];for(i=0;i<tree_length;i++)if("string"===(node_type=get_type(parse_tree[i])))output.push(parse_tree[i]);else if("array"===node_type){if((match=parse_tree[i])[2])for(arg=argv[cursor],k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw sprintf('[sprintf] property "%s" does not exist',match[2][k]);arg=arg[match[2][k]]}else arg=match[1]?argv[match[1]]:argv[cursor++];if(/[^s]/.test(match[8])&&"number"!=get_type(arg))throw sprintf("[sprintf] expecting number but found %s",get_type(arg));switch(null==arg&&(arg=""),match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=Math.abs(arg);break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase()}arg=/[def]/.test(match[8])&&match[3]&&0<=arg?"+"+arg:arg,pad_character=match[4]?"0"==match[4]?"0":match[4].charAt(1):" ",pad_length=match[6]-String(arg).length,pad=match[6]?str_repeat(pad_character,pad_length):"",output.push(match[5]?arg+pad:pad+arg)}return output.join("")},str_format.cache={},str_format.parse=function(fmt){for(var _fmt=fmt,match=[],parse_tree=[],arg_names=0;_fmt;){if(null!==(match=/^[^\x25]+/.exec(_fmt)))parse_tree.push(match[0]);else if(null!==(match=/^\x25{2}/.exec(_fmt)))parse_tree.push("%");else{if(null===(match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)))throw"[sprintf] huh?";if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if(null===(field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field)))throw"[sprintf] huh?";for(field_list.push(field_match[1]);""!==(replacement_field=replacement_field.substring(field_match[0].length));)if(null!==(field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)))field_list.push(field_match[1]);else{if(null===(field_match=/^\[(\d+)\]/.exec(replacement_field)))throw"[sprintf] huh?";field_list.push(field_match[1])}match[2]=field_list}else arg_names|=2;if(3===arg_names)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";parse_tree.push(match)}_fmt=_fmt.substring(match[0].length)}return parse_tree},str_format}();Jed.parse_plural=function(plural_forms,n){return plural_forms=plural_forms.replace(/n/g,n),Jed.parse_expression(plural_forms)},Jed.sprintf=function(fmt,args){return"[object Array]"=={}.toString.call(args)?function(fmt,argv){return argv.unshift(fmt),sprintf.apply(null,argv)}(fmt,[].slice.call(args)):sprintf.apply(this,[].slice.call(arguments))},Jed.prototype.sprintf=function(){return Jed.sprintf.apply(this,arguments)},Jed.PF={},Jed.PF.parse=function(p){var plural_str=Jed.PF.extractPluralExpr(p);return Jed.PF.parser.parse.call(Jed.PF.parser,plural_str)},Jed.PF.compile=function(p){var ast=Jed.PF.parse(p);return function(n){return!0===(val=Jed.PF.interpreter(ast)(n))?1:val||0;var val}},Jed.PF.interpreter=function(ast){return function(n){switch(ast.type){case"GROUP":return Jed.PF.interpreter(ast.expr)(n);case"TERNARY":return Jed.PF.interpreter(ast.expr)(n)?Jed.PF.interpreter(ast.truthy)(n):Jed.PF.interpreter(ast.falsey)(n);case"OR":return Jed.PF.interpreter(ast.left)(n)||Jed.PF.interpreter(ast.right)(n);case"AND":return Jed.PF.interpreter(ast.left)(n)&&Jed.PF.interpreter(ast.right)(n);case"LT":return Jed.PF.interpreter(ast.left)(n)<Jed.PF.interpreter(ast.right)(n);case"GT":return Jed.PF.interpreter(ast.left)(n)>Jed.PF.interpreter(ast.right)(n);case"LTE":return Jed.PF.interpreter(ast.left)(n)<=Jed.PF.interpreter(ast.right)(n);case"GTE":return Jed.PF.interpreter(ast.left)(n)>=Jed.PF.interpreter(ast.right)(n);case"EQ":return Jed.PF.interpreter(ast.left)(n)==Jed.PF.interpreter(ast.right)(n);case"NEQ":return Jed.PF.interpreter(ast.left)(n)!=Jed.PF.interpreter(ast.right)(n);case"MOD":return Jed.PF.interpreter(ast.left)(n)%Jed.PF.interpreter(ast.right)(n);case"VAR":return n;case"NUM":return ast.val;default:throw new Error("Invalid Token found.")}}},Jed.PF.extractPluralExpr=function(p){p=p.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(p)||(p=p.concat(";"));var plural_matches,nplurals_re=/nplurals\=(\d+);/,nplurals_matches=p.match(nplurals_re);if(!(1<nplurals_matches.length))throw new Error("nplurals not found in plural_forms string: "+p);if(nplurals_matches[1],!((plural_matches=(p=p.replace(nplurals_re,"")).match(/plural\=(.*);/))&&1<plural_matches.length))throw new Error("`plural` expression not found: "+p);return plural_matches[1]},Jed.PF.parser=(parser={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return{type:"GROUP",expr:$$[$0-1]};case 2:this.$={type:"TERNARY",expr:$$[$0-4],truthy:$$[$0-2],falsey:$$[$0]};break;case 3:this.$={type:"OR",left:$$[$0-2],right:$$[$0]};break;case 4:this.$={type:"AND",left:$$[$0-2],right:$$[$0]};break;case 5:this.$={type:"LT",left:$$[$0-2],right:$$[$0]};break;case 6:this.$={type:"LTE",left:$$[$0-2],right:$$[$0]};break;case 7:this.$={type:"GT",left:$$[$0-2],right:$$[$0]};break;case 8:this.$={type:"GTE",left:$$[$0-2],right:$$[$0]};break;case 9:this.$={type:"NEQ",left:$$[$0-2],right:$$[$0]};break;case 10:this.$={type:"EQ",left:$$[$0-2],right:$$[$0]};break;case 11:this.$={type:"MOD",left:$$[$0-2],right:$$[$0]};break;case 12:this.$={type:"GROUP",expr:$$[$0-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(yytext)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(str,hash){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;function lex(){var token;return"number"!=typeof(token=self.lexer.lex()||1)&&(token=self.symbols_[token]||token),token}lstack.push(yyloc),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,n,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(symbol=lex()),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){if(!recovering){for(p in expected=[],table[state])this.terminals_[p]&&2<p&&expected.push("'"+this.terminals_[p]+"'");var errStr="";errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(3==recovering){if(1==symbol)throw new Error(errStr||"Parsing halted.");yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,symbol=lex()}for(;!(2..toString()in table[state]);){if(0==state)throw new Error(errStr||"Parsing halted.");n=1,stack.length=stack.length-2*n,vstack.length=vstack.length-n,lstack.length=lstack.length-n,state=stack[stack.length-1]}preErrorSymbol=symbol,symbol=2,action=table[state=stack[stack.length-1]]&&table[state][2],recovering=3}if(action[0]instanceof Array&&1<action.length)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,0<recovering&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},void 0!==(r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack)))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parseError)throw new Error(str);this.yy.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.match+=ch,this.matched+=ch,ch.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),ch},unput:function(ch){return this._input=ch+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;var match,lines;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if(match=this._input.match(this.rules[rules[i]]))return(lines=match[0].match(/\n.*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],this.performAction.call(this,this.yy,this,rules[i],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return void 0!==r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},rules:[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};return lexer}(),parser.lexer=lexer,parser),void 0!==exports?(void 0!==module&&module.exports&&(exports=module.exports=Jed),exports.Jed=Jed):root.Jed=Jed}(this)},{}],14:[function(require,module,exports){var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){return options=options||{},"string"==typeof val?function(str){var match=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"h":return n*h;case"minutes":case"minute":case"m":return n*m;case"seconds":case"second":case"s":return n*s;case"ms":return n}}(val):options.long?plural(ms=val,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms":function(ms){return d<=ms?Math.round(ms/d)+"d":h<=ms?Math.round(ms/h)+"h":m<=ms?Math.round(ms/m)+"m":s<=ms?Math.round(ms/s)+"s":ms+"ms"}(val);var ms}},{}]},{},[3])(3)});
